@(message: String)

@imports = {
	<!--<script src='https://api.tiles.mapbox.com/mapbox.js/v2.0.1/mapbox.js'></script>-->
	<!--<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.js'></script>-->
	
	<script src='@routes.Assets.at("external_packages/MapBox/mapbox-2.0.1.js")'></script>
	<script src='@routes.Assets.at("external_packages/Leaflet_Plugins/leaflet.draw-0.2.2.js")'></script>
	<script src='@routes.Assets.at("external_packages/Leaflet_Plugins/leaflet-omnivore-0.2.0.min.js")'></script>
	<script src='@routes.Assets.at("external_packages/fancytree/jquery.fancytree.js")'></script>
	
	<script src='@routes.Assets.at("javascripts/create-map.js")'></script>
	<script src='@routes.Assets.at("javascripts/map-driver.js")'></script>
	<script src='@routes.Assets.at("javascripts/indexing-terms.js")'></script>
	<script src='@routes.Assets.at("javascripts/parent-tree.js")'></script>
	<script src='@routes.Assets.at("javascripts/au-composite-tree.js")'></script>
	<script src='@routes.Assets.at("javascripts/fancytree-ext-filter.js")'></script>
	
	<link href='@routes.Assets.at("external_packages/MapBox/mapbox-2.0.1.css")' rel='stylesheet'/>
	<link href='@routes.Assets.at("external_packages/Leaflet_Plugins/leaflet.draw-0.2.2.css")' rel='stylesheet'/>
	<link href='@routes.Assets.at("external_packages/fancytree/ui.fancytree.css")' rel='stylesheet'/>
	
	<link href='@routes.Assets.at("stylesheets/fancytree-ext.css")' rel='stylesheet'/>
	<link href='@routes.Assets.at("stylesheets/index.css")' rel='stylesheet'/>
}

@main(message, imports) {
	<div style="padding-left: 2%;">
		<div class="pull-left">
			<div class="extra-bottom-space">
				<div>
					<div>
						<input id="file-input" accept=".json, .geojson, .kml" type="file" style="float: left;">
					</div>
					<button id="download-button">Download</button>
				</div>
				
				<div><button id="new-button">New location</button></div>
				<div class="vertical-spaced" style="border-width: 1px; border-style: groove; padding-left: 5px; display: inline-block;">
					<em>ID:</em><input type="text" id="gid" class="pre-spaced" placeholder="ID">
					<button id="db-load-button" class="pre-spaced">Load from database</button>
				</div>

				<div class="vertical-spaced"><em>Name:</em><input type="text" id="au-name" class="pre-spaced" placeholder="Name"></div>
				
				<div class="dropdown">
					<button class="btn btn-default btn-sm dropdown-toggle" type="button" id="dropdown-menu" data-toggle="dropdown" aria-expanded="true">
					Location type <span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu" aria-labelledby="dropdown-menu" data-toggle="dropdown" aria-expanded="true">
						<li role="presentation"><a role="menuitem" tabindex="-1" href="#" onclick='$("#au-type").val("Epidemic Zone"); $("#au-type").prop("disabled", true);'>Epidemic Zone</a></li>
						<li role="presentation"><a role="menuitem" tabindex="-1" href="#" onclick='$("#au-type").prop("disabled", false); $("#au-type").val("");'>Location</a></li>
					</ul>
					<input type="text" id="au-type" placeholder="Location type" disabled>
				</div>
				
				<div class="vertical-spaced"><em>Code:</em> <input type="text" id="au-code" class="pre-spaced" placeholder="Code"> <em>Code type:</em> <input type="text" id="au-codetype" class="pre-spaced" placeholder="Code type"></div>
				<div class="vertical-spaced"><em>Date:</em> <input type="text" id="start-date" class="pre-spaced" placeholder="Start date"> <em>to</em> <input type="text" id="end-date" class="pre-spaced" placeholder="End date"><button id="save-button">Save to Database</button></div>
			</div>
			
			<div id="map-one" class="map"></div>
		</div>
		
		<div class="pull-left pre-spaced">
			<div id="parent-list">
					<div>
						<legend><em>Encompassing location:</em></legend>
						<label>Filter:</label>
						<input name="search" placeholder="Filter...">
						<button id="resetParentSearchButton">&times;</button>
						<span id="parent-matches"></span>
					</div>
					<div id="parent-tree" style="padding-top: 5px; max-height: 600px; overflow: auto;"></div>
			</div>
			
			<div id="au-list" class="pull-left" hidden>
					<div>
						<legend><em>AU Component IDs:</em></legend>
						<label>Filter:</label>
						<input name="au-search" placeholder="Filter...">
						<button id="resetCompositeSearchButton">&times;</button>
						<span id="composite-matches"></span>
					</div>
					<div id="au-composite-tree" style="padding-top: 5px"></div>
					<button id="composite-button">Build Composite</button>
			</div>
		</div>
	</div>
}
